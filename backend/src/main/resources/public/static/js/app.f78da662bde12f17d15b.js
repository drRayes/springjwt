webpackJsonp([4],{"J/xL":function(e,t){},Ji55:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n={components:{Modal:s("PxrE").a},computed:{currentUser:function(){return this.$store.state.auth.user},showAdminBoard:function(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")},showEngineerBoard:function(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ENGINEER")}},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}},mounted:function(){this.$store.dispatch("fetchLocations")}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-expand navbar-dark bg-dark"},[s("a",{staticClass:"navbar-brand",attrs:{href:""},on:{click:function(e){e.preventDefault()}}},[e._v("Equipment")]),e._v(" "),s("div",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/home"}},[s("font-awesome-icon",{attrs:{icon:"home"}}),e._v("Home\n        ")],1)],1),e._v(" "),e.showAdminBoard?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin"}},[e._v("Admin Board")])],1):e._e(),e._v(" "),e.showEngineerBoard?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/eng"}},[e._v("Engineer Board")])],1):e._e(),e._v(" "),s("li",{staticClass:"nav-item"},[e.currentUser?s("router-link",{staticClass:"nav-link",attrs:{to:"/user"}},[e._v("User")]):e._e()],1)]),e._v(" "),e.currentUser?e._e():s("div",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[s("font-awesome-icon",{attrs:{icon:"user-plus"}}),e._v("Sign Up\n        ")],1)],1),e._v(" "),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[e._v("Login\n        ")])],1)]),e._v(" "),e.currentUser?s("div",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/profile"}},[e._v("\n          "+e._s(e.currentUser.username)+"\n        ")])],1),e._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logOut(t)}}},[e._v("LogOut\n        ")])])]):e._e()]),e._v(" "),s("div",{staticClass:"container"},[s("router-view")],1),e._v(" "),s("Modal")],1)},staticRenderFns:[]},r=s("VU/8")(n,i,!1,null,null,null).exports,o=s("/ocq"),u=s("Zrlr"),l=s.n(u),c=s("wxAW"),m=s.n(c),d=s("mtWM"),v=s.n(d);function p(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var f="http://localhost:8088/api/test/",g=(new(function(){function e(){l()(this,e)}return m()(e,[{key:"getPublicContent",value:function(){return v.a.get(f+"all")}},{key:"getUserBoard",value:function(){return v.a.get(f+"user",{headers:p()})}},{key:"getModeratorBoard",value:function(){return v.a.get(f+"mod",{headers:p()})}},{key:"getAdminBoard",value:function(){return v.a.get(f+"admin",{headers:p()})}}]),e}()),{render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("header",{staticClass:"jumbotron"})])}]}),h=s("VU/8")({name:"Home",data:function(){return{}},mounted:function(){}},g,!1,null,null,null).exports,_=function e(t,s,a){l()(this,e),this.username=t,this.email=s,this.password=a},b={name:"Login",data:function(){return{user:new _("",""),loading:!1,message:""}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push("/profile")},methods:{handleLogin:function(){var e=this;this.loading=!0,this.$validator.validateAll().then(function(t){t?e.user.username&&e.user.password&&e.$store.dispatch("auth/login",e.user).then(function(){e.$router.push("/profile")},function(t){e.loading=!1,e.message=t.response&&t.response.data||t.message||t.toString()}):e.loading=!1})}}},q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card card-container"},[s("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleLogin(t)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e._v(" "),e.errors.has("username")?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("Username is required!")]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e._v(" "),e.errors.has("password")?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("Password is required!")]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.loading}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),e._v(" "),s("span",[e._v("Login")])])]),e._v(" "),s("div",{staticClass:"form-group"},[e.message?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(e._s(e.message))]):e._e()])])])])},staticRenderFns:[]};var C=s("VU/8")(b,q,!1,function(e){s("v1/7")},"data-v-6d30f312",null).exports,w={name:"Register",data:function(){return{user:new _("","",""),submitted:!1,successful:!1,message:""}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.loggedIn&&this.$router.push("/profile")},methods:{handleRegister:function(){var e=this;this.message="",this.submitted=!0,this.$validator.validate().then(function(t){t&&e.$store.dispatch("auth/register",e.user).then(function(t){e.message=t.message,e.successful=!0},function(t){e.message=t.response&&t.response.data||t.message||t.toString(),e.successful=!1})})}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card card-container"},[s("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.successful?e._e():s("div",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e._v(" "),e.submitted&&e.errors.has("username")?s("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("username")))]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email|max:50",expression:"'required|email|max:50'"}],staticClass:"form-control",attrs:{type:"email",name:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),e._v(" "),e.submitted&&e.errors.has("email")?s("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("email")))]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required|min:6|max:40",expression:"'required|min:6|max:40'"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e._v(" "),e.submitted&&e.errors.has("password")?s("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("password")))]):e._e()]),e._v(" "),e._m(0)])]),e._v(" "),e.message?s("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(e._s(e.message))]):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-primary btn-block"},[this._v("Sign Up")])])}]};var E=s("VU/8")(w,y,!1,function(e){s("Pt/V")},"data-v-8dadf836",null).exports;s("bKv9");a.a.use(o.a);var x=new o.a({mode:"history",routes:[{path:"/",name:"home",component:h},{path:"/home",component:h},{path:"/login",component:C},{path:"/register",component:E},{path:"/profile",name:"profile",component:function(){return s.e(2).then(s.bind(null,"Twgf"))}},{path:"/admin",name:"admin",component:function(){return s.e(0).then(s.bind(null,"Atqm"))}},{path:"/eng",name:"engineer",component:function(){return s.e(1).then(s.bind(null,"aasF"))}},{path:"/user",name:"user",component:function(){return new Promise(function(e){e()}).then(s.bind(null,"bKv9"))}}]}),L=s("NYxO"),N=s("//Fk"),k=s.n(N),U=s("mvHQ"),$=s.n(U),S=new(function(){function e(){l()(this,e)}return m()(e,[{key:"login",value:function(e){return v.a.post("http://localhost:8088/api/auth/signin",{username:e.username,password:e.password}).then(function(e){return e.data.accessToken&&localStorage.setItem("user",$()(e.data)),e.data})}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e){return v.a.post("http://localhost:8088/api/auth/signup",{username:e.username,email:e.email,password:e.password})}}]),e}()),W=JSON.parse(localStorage.getItem("user")),P={namespaced:!0,state:W?{status:{loggedIn:!0},user:W}:{status:{loggedIn:!1},user:null},actions:{login:function(e,t){var s=e.commit;return S.login(t).then(function(e){return s("loginSuccess",e),k.a.resolve(e)},function(e){return s("loginFailure"),k.a.reject(e)})},logout:function(e){var t=e.commit;S.logout(),t("logout")},register:function(e,t){var s=e.commit;return S.register(t).then(function(e){return s("registerSuccess"),k.a.resolve(e.data)},function(e){return s("registerFailure"),k.a.reject(e)})}},mutations:{loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=null},logout:function(e){e.status.loggedIn=!1,e.user=null},registerSuccess:function(e){e.status.loggedIn=!1},registerFailure:function(e){e.status.loggedIn=!1}}},B=s("Xxa5"),I=s.n(B),V=s("exGp"),F=s.n(V),O={state:{equipList:[]},getters:{getEquipList:function(e){return e.equipList}},actions:{fetchEquipByName:function(e,t){var s=this;return F()(I.a.mark(function a(){return I.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e.commit("updateEquipList",[]),v.a.get("/api/equip/searchByName/"+t).then(function(t){e.commit("updateEquipList",t.data)});case 2:case"end":return s.stop()}},a,s)}))()},fetchEquipBySerialNumber:function(e,t){var s=this;return F()(I.a.mark(function a(){return I.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e.commit("updateEquipList",[]),v.a.get("/api/equip/searchBySerialNumber/"+t).then(function(t){e.commit("updateEquipList",t.data)});case 2:case"end":return s.stop()}},a,s)}))()},clearEquipList:function(e){e.commit("updateEquipList",[])}},mutations:{updateEquipList:function(e,t){e.equipList=t}}},R={state:{locations:[]},getters:{getLocations:function(e){return e.locations}},actions:{fetchLocations:function(e){v.a.get("/api/equip/loadLocations").then(function(t){e.commit("updateLocations",t.data)})}},mutations:{updateLocations:function(e,t){e.locations=t}}},A={state:{users:[]},getters:{getUsers:function(e){return e.users}},actions:{loadUsers:function(e){v.a.get("/api/user/loadUsers").then(function(t){e.commit("setUsers",t.data)})},setUsers:function(e,t){e.commit("setUsers",t)}},mutations:{setUsers:function(e,t){e.users=t}}};a.a.use(L.a);var M=new L.a.Store({modules:{auth:P,equip:{state:{equip:{name:"",serialNumber:"",location:{name:""}}},getters:{getCurrentEquip:function(e){return e.equip}},actions:{setEquip:function(e,t){e.commit("setEquip",t)}},mutations:{setEquip:function(e,t){e.equip=t}}},equipList:O,locations:R,user:{state:{user:{name:"",roles:[]}},getters:{getUser:function(e){return e.user}},actions:{setUser:function(e,t){e.commit("setUser",t)}},mutations:{setUser:function(e,t){e.user=t}}},users:A,visibility:{state:{visibility:!0},getters:{getVisibility:function(e){return e.visibility}},actions:{setVisibility:function(e,t){e.commit("setVisibility",t)}},mutations:{setVisibility:function(e,t){e.visibility=!t}}},equipWaybill:{state:{equipWaybill:{equip:{},quantity:0,sourceLocation:{name:""},destination:{name:""},comment:"comment"}},getters:{getEquipWaybill:function(e){return e.equipWaybill}},actions:{setEquipWaybill:function(e,t){e.commit("setEquipWaybill",t)}},mutations:{setEquipWaybill:function(e,t){t.sourceLocation=t.equip.location,e.equipWaybill=t}}},equipWaybillList:{state:{equipWaybillList:[]},getters:{getEquipWaybillList:function(e){return e.equipWaybillList}},actions:{setEquipWaybillList:function(e,t){e.commit("setEquipWaybillList",t)},addWaybill:function(e,t){e.commit("addWaybill",t)}},mutations:{setEquipWaybillList:function(e,t){e.equipWaybillList=t},addWaybill:function(e,t){e.equipWaybillList.push(t)}}}}}),D=(s("K3J8"),s("qb6w"),s("sUu7")),J=s("C/JF"),j=s("1e6/"),T=s("fhbW");J.c.add(T.a,T.d,T.e,T.b,T.c),a.a.config.productionTip=!1,a.a.use(D.a),a.a.component("font-awesome-icon",j.a),a.a.use(L.a),new a.a({router:x,store:M,render:function(e){return e(r)}}).$mount("#app")},"Pt/V":function(e,t){},PxrE:function(e,t,s){"use strict";var a=s("Dd8w"),n=s.n(a),i=s("NYxO"),r={name:"Modal",computed:n()({},Object(i.b)(["getCurrentEquip","getLocations","getVisibility"])),methods:{close:function(){this.$store.dispatch("setVisibility",!0)}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal"},[s("div",[s("div",[e._v("Direction")]),e._v(" "),s("p",[e._v("Get a direction with your favourite apps")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.getCurrentEquip.name,expression:"getCurrentEquip.name"}],domProps:{value:e.getCurrentEquip.name},on:{input:function(t){t.target.composing||e.$set(e.getCurrentEquip,"name",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.getCurrentEquip.serialNumber,expression:"getCurrentEquip.serialNumber"}],domProps:{value:e.getCurrentEquip.serialNumber},on:{input:function(t){t.target.composing||e.$set(e.getCurrentEquip,"serialNumber",t.target.value)}}}),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.getCurrentEquip.location,expression:"getCurrentEquip.location"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.getCurrentEquip,"location",t.target.multiple?s:s[0])}}},e._l(e.getLocations,function(t,a){return s("option",{attrs:{id:a},domProps:{value:t}},[e._v("\n                "+e._s(t.name)+"\n              ")])}),0),e._v(" "),s("button",{on:{click:e.close}},[e._v("Close")])])])},staticRenderFns:[]};var u=s("VU/8")(r,o,!1,function(e){s("Ji55")},null,null);t.a=u.exports},bKv9:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"User",components:{SearchEquip:s("rvDN").a}},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("header",{staticClass:"jumbotron"},[t("h3",[t("SearchEquip")],1)])])},staticRenderFns:[]};var i=s("VU/8")(a,n,!1,function(e){s("hS7m")},null,null);t.default=i.exports},hS7m:function(e,t){},qb6w:function(e,t){},rvDN:function(e,t,s){"use strict";var a=s("NYxO"),n=s("PxrE"),i=s("mtWM"),r=s.n(i),o={components:{Modal:n.a},name:"SearchEquip",data:function(){return{tab:1,name:""}},computed:Object(a.b)(["getEquipList","getVisibility"]),methods:{searchByName:function(){this.$store.dispatch("fetchEquipByName",this.name)},searchBySerialNumber:function(){this.$store.dispatch("fetchEquipBySerialNumber",this.name)},selectCurrentEquip:function(e){this.$store.dispatch("setEquip",this.getEquipList[e.currentTarget.id]),this.$store.dispatch("setVisibility",this.getVisibility),r.a.get("/api/equip/toConsole/"+this.getVisibility)}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"tab"},[s("button",{on:{click:function(t){e.tab=1}}},[e._v("Search by name")]),e._v(" "),s("button",{on:{click:function(t){e.tab=2}}},[e._v("Search by serial number")])]),e._v(" "),1===e.tab?s("div",{staticClass:"tabcontent"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),s("button",{on:{click:e.searchByName}},[e._v("Search by name")])]):e._e(),e._v(" "),2===e.tab?s("div",{staticClass:"tabcontent"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),s("button",{on:{click:e.searchBySerialNumber}},[e._v("Search by serial number")])]):e._e(),e._v(" "),s("table",{staticClass:"tabcontent"},[e._m(0),e._v(" "),e._l(e.getEquipList,function(t,a){return s("tr",{attrs:{id:a},on:{click:e.selectCurrentEquip}},[s("td",[e._v(e._s(t.name))]),e._v(" "),s("td",[e._v(e._s(t.serialNumber))]),e._v(" "),s("td",[e._v(e._s(t.location.name))])])})],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("Name")]),this._v(" "),t("th",[this._v("Serial number")]),this._v(" "),t("th",[this._v("Location")])])}]};var l=s("VU/8")(o,u,!1,function(e){s("J/xL")},null,null);t.a=l.exports},"v1/7":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f78da662bde12f17d15b.js.map